/*! 
 Build based on gin-vue-admin 
 Time : 1717039643000 */
import{K as e,r as a,L as l,o as t,c as s,b as i,d as o,w as r,i as u,t as n,D as d,P as p,E as m,k as c,j as D}from"./087AC4D233B64EB0index.39f1eb31.js";import{E as y}from"./087AC4D233B64EB0dialog.c75a9340.js";import"./087AC4D233B64EB0overlay.3905897c.js";import{a as v,E as B}from"./087AC4D233B64EB0form-item.a86c41d2.js";import{E as f}from"./087AC4D233B64EB0input-number.c9c9df06.js";/* empty css                              */import{E as b}from"./087AC4D233B64EB0switch.5bfb00d1.js";import{E as g}from"./087AC4D233B64EB0pagination.ce43b352.js";import"./087AC4D233B64EB0tag.d3c1c3e4.js";import"./087AC4D233B64EB0select.7f5b5538.js";import"./087AC4D233B64EB0scrollbar.3894915f.js";/* empty css                               */import{E as C,a as E}from"./087AC4D233B64EB0table-column.e9b4a870.js";import"./087AC4D233B64EB0checkbox.a3853383.js";/* empty css                                *//* empty css                               */import{f as j,a as A}from"./087AC4D233B64EB0format.9823c1e6.js";import"./087AC4D233B64EB0isUndefined.d281c39a.js";import"./087AC4D233B64EB0castArray.209ac14b.js";import"./087AC4D233B64EB0_baseClone.a73122b0.js";import"./087AC4D233B64EB0_Uint8Array.02b83471.js";import"./087AC4D233B64EB0_initCloneObject.0c0ca3ea.js";import"./087AC4D233B64EB0isEqual.e024b3a6.js";import"./087AC4D233B64EB0hasIn.9f12b2a1.js";import"./087AC4D233B64EB0index.d8bfc0de.js";import"./087AC4D233B64EB0index.5d58b83c.js";import"./087AC4D233B64EB0strings.2df7e9e1.js";import"./087AC4D233B64EB0debounce.0aab18a9.js";import"./087AC4D233B64EB0date.225eaf4f.js";import"./087AC4D233B64EB0dictionary.2d6433e1.js";import"./087AC4D233B64EB0sysDictionary.e0472ec6.js";const h=a=>e({url:"/sysDictionaryDetail/createSysDictionaryDetail",method:"post",data:a}),w={class:"gva-table-box"},_={class:"justify-between gva-btn-list"},V=i("span",{class:"font-bold text"},"字典详细内容",-1),x={class:"gva-pagination"},k={class:"dialog-footer"},I=Object.assign({name:"SysDictionaryDetail"},{__name:"sysDictionaryDetail",props:{sysDictionaryID:{type:Number,default:0}},setup(I){const z=I,S=a({label:null,value:null,status:!0,sort:null}),U=a({label:[{required:!0,message:"请输入展示值",trigger:"blur"}],value:[{required:!0,message:"请输入字典值",trigger:"blur"}],sort:[{required:!0,message:"排序标记",trigger:"blur"}]}),q=a(1),L=a(0),T=a(10),K=a([]),O=e=>{T.value=e,M()},F=e=>{q.value=e,M()},M=async()=>{const a=await(l={page:q.value,pageSize:T.value,sysDictionaryID:z.sysDictionaryID},e({url:"/sysDictionaryDetail/getSysDictionaryDetailList",method:"get",params:l}));var l;0===a.code&&(K.value=a.data.list,L.value=a.data.total,q.value=a.data.page,T.value=a.data.pageSize)};M();const N=a(""),P=a(!1),$=async a=>{const l=await(t={ID:a.ID},e({url:"/sysDictionaryDetail/findSysDictionaryDetail",method:"get",params:t}));var t;N.value="update",0===l.code&&(S.value=l.data.reSysDictionaryDetail,P.value=!0)},G=()=>{P.value=!1,S.value={label:null,value:null,status:!0,sort:null,sysDictionaryID:z.sysDictionaryID}},H=async a=>{p.confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{var l;0===(await(l={ID:a.ID},e({url:"/sysDictionaryDetail/deleteSysDictionaryDetail",method:"delete",data:l}))).code&&(m({type:"success",message:"删除成功"}),1===K.value.length&&q.value>1&&q.value--,M())}))},J=a(null),Q=async()=>{J.value.validate((async a=>{if(S.value.sysDictionaryID=z.sysDictionaryID,!a)return;let l;switch(N.value){case"create":default:l=await h(S.value);break;case"update":l=await(t=S.value,e({url:"/sysDictionaryDetail/updateSysDictionaryDetail",method:"put",data:t}))}var t;0===l.code&&(m({type:"success",message:"创建/更改成功"}),G(),M())}))},R=()=>{N.value="create",P.value=!0};return l((()=>z.sysDictionaryID),(()=>{M()})),(e,a)=>{const l=c,p=C,m=E,h=g,I=D,z=v,M=b,W=f,X=B,Y=y;return t(),s("div",null,[i("div",w,[i("div",_,[V,o(l,{type:"primary",icon:"plus",size:"small",onClick:R},{default:r((()=>[u("新增字典项")])),_:1})]),o(m,{ref:"multipleTable",data:K.value,style:{width:"100%"},"tooltip-effect":"dark","row-key":"ID"},{default:r((()=>[o(p,{type:"selection",width:"55"}),o(p,{align:"left",label:"日期",width:"180"},{default:r((e=>[u(n(d(j)(e.row.CreatedAt)),1)])),_:1}),o(p,{align:"left",label:"展示值",prop:"label"}),o(p,{align:"left",label:"字典值",prop:"value"}),o(p,{align:"left",label:"扩展值",prop:"extend"}),o(p,{align:"left",label:"启用状态",prop:"status",width:"120"},{default:r((e=>[u(n(d(A)(e.row.status)),1)])),_:1}),o(p,{align:"left",label:"排序标记",prop:"sort",width:"120"}),o(p,{align:"left",label:"操作",width:"180"},{default:r((e=>[o(l,{type:"primary",link:"",icon:"edit",size:"small",onClick:a=>$(e.row)},{default:r((()=>[u("变更")])),_:2},1032,["onClick"]),o(l,{type:"primary",link:"",icon:"delete",size:"small",onClick:a=>H(e.row)},{default:r((()=>[u("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),i("div",x,[o(h,{"current-page":q.value,"page-size":T.value,"page-sizes":[10,30,50,100],total:L.value,small:"",layout:"total, sizes, prev, pager, next",onCurrentChange:F,onSizeChange:O},null,8,["current-page","page-size","total"])])]),o(Y,{modelValue:P.value,"onUpdate:modelValue":a[5]||(a[5]=e=>P.value=e),"before-close":G,title:"create"===N.value?"添加字典项":"修改字典项"},{footer:r((()=>[i("div",k,[o(l,{size:"small",onClick:G},{default:r((()=>[u("取 消")])),_:1}),o(l,{size:"small",type:"primary",onClick:Q},{default:r((()=>[u("确 定")])),_:1})])])),default:r((()=>[o(X,{ref_key:"dialogForm",ref:J,model:S.value,rules:U.value,"label-width":"110px"},{default:r((()=>[o(z,{label:"展示值",prop:"label"},{default:r((()=>[o(I,{modelValue:S.value.label,"onUpdate:modelValue":a[0]||(a[0]=e=>S.value.label=e),placeholder:"请输入展示值",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),o(z,{label:"字典值",prop:"value"},{default:r((()=>[o(I,{modelValue:S.value.value,"onUpdate:modelValue":a[1]||(a[1]=e=>S.value.value=e),placeholder:"请输入字典值",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),o(z,{label:"扩展值",prop:"extend"},{default:r((()=>[o(I,{modelValue:S.value.extend,"onUpdate:modelValue":a[2]||(a[2]=e=>S.value.extend=e),placeholder:"请输入扩展值",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),o(z,{label:"启用状态",prop:"status",required:""},{default:r((()=>[o(M,{modelValue:S.value.status,"onUpdate:modelValue":a[3]||(a[3]=e=>S.value.status=e),"active-text":"开启","inactive-text":"停用"},null,8,["modelValue"])])),_:1}),o(z,{label:"排序标记",prop:"sort"},{default:r((()=>[o(W,{modelValue:S.value.sort,"onUpdate:modelValue":a[4]||(a[4]=e=>S.value.sort=e),modelModifiers:{number:!0},placeholder:"排序标记"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])])}}});export{I as default};
