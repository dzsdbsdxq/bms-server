/*! 
 Build based on gin-vue-admin 
 Time : 1717039643000 */
import{r as e,M as a,o as t,c as l,d as s,b as o,w as i,i as r,F as u,m as n,C as c,t as d,af as m,D as p,aX as B,P as v,E as D,k as y,q as C,j as f}from"./087AC4D233B64EB0index.39f1eb31.js";import{E as j}from"./087AC4D233B64EB0dialog.c75a9340.js";import"./087AC4D233B64EB0overlay.3905897c.js";import{a as E,E as b}from"./087AC4D233B64EB0form-item.a86c41d2.js";import{E as A}from"./087AC4D233B64EB0switch.5bfb00d1.js";/* empty css                              */import{E as g}from"./087AC4D233B64EB0scrollbar.3894915f.js";/* empty css                               */import{g as x,f as h,d as w,c as _,u as k}from"./087AC4D233B64EB0sysDictionary.e0472ec6.js";import{_ as V}from"./087AC4D233B64EB0warningBar.beb718a3.js";import I from"./087AC4D233B64EB0sysDictionaryDetail.03d61b51.js";import"./087AC4D233B64EB0isUndefined.d281c39a.js";import"./087AC4D233B64EB0castArray.209ac14b.js";import"./087AC4D233B64EB0_baseClone.a73122b0.js";import"./087AC4D233B64EB0_Uint8Array.02b83471.js";import"./087AC4D233B64EB0_initCloneObject.0c0ca3ea.js";import"./087AC4D233B64EB0input-number.c9c9df06.js";import"./087AC4D233B64EB0pagination.ce43b352.js";import"./087AC4D233B64EB0select.7f5b5538.js";import"./087AC4D233B64EB0index.d8bfc0de.js";import"./087AC4D233B64EB0index.5d58b83c.js";import"./087AC4D233B64EB0strings.2df7e9e1.js";import"./087AC4D233B64EB0isEqual.e024b3a6.js";import"./087AC4D233B64EB0debounce.0aab18a9.js";import"./087AC4D233B64EB0tag.d3c1c3e4.js";import"./087AC4D233B64EB0hasIn.9f12b2a1.js";/* empty css                               */import"./087AC4D233B64EB0table-column.e9b4a870.js";import"./087AC4D233B64EB0checkbox.a3853383.js";/* empty css                                */import"./087AC4D233B64EB0format.9823c1e6.js";import"./087AC4D233B64EB0date.225eaf4f.js";import"./087AC4D233B64EB0dictionary.2d6433e1.js";const q={class:"flex gap-4 dict-box"},U={class:"w-64 p-4 bg-white"},z={class:"flex items-center justify-between"},F=o("span",{class:"font-bold text"},"字典列表",-1),O=["onClick"],T={class:"max-w-[160px] truncate"},K={class:"flex-1 bg-white"},L={class:"dialog-footer"},M=Object.assign({name:"SysDictionary"},{__name:"sysDictionary",setup(M){const P=e(1),S=e({name:null,type:null,status:!0,desc:null}),X=e({name:[{required:!0,message:"请输入字典名（中）",trigger:"blur"}],type:[{required:!0,message:"请输入字典名（英）",trigger:"blur"}],desc:[{required:!0,message:"请输入描述",trigger:"blur"}]}),$=e([]),G=async()=>{const e=await x();0===e.code&&($.value=e.data)};G();const H=e(!1),J=e(""),N=()=>{H.value=!1,S.value={name:null,type:null,status:!0,desc:null}},Q=e(null),R=async()=>{Q.value.validate((async e=>{if(!e)return;let a;switch(J.value){case"create":default:a=await _(S.value);break;case"update":a=await k(S.value)}0===a.code&&(D.success("操作成功"),N(),G())}))},W=()=>{J.value="create",H.value=!0};return(e,x)=>{const _=y,k=C,M=a("Delete"),Y=g,Z=f,ee=E,ae=A,te=b,le=j;return t(),l("div",null,[s(V,{title:"获取字典且缓存方法已在前端utils/dictionary 已经封装完成 不必自己书写 使用方法查看文件内注释"}),o("div",q,[o("div",U,[o("div",z,[F,s(_,{size:"small",type:"primary",onClick:W},{default:i((()=>[r(" 新增 ")])),_:1})]),s(Y,{class:"mt-4",style:{height:"calc(100vh - 300px)"}},{default:i((()=>[(t(!0),l(u,null,n($.value,(e=>(t(),l("div",{key:e.ID,class:c(["flex items-center justify-between px-2 py-4 mt-2 rounded cursor-pointer hover:bg-blue-50 hover:text-gray-800 group bg-gray-50",P.value===e.ID&&"active"]),onClick:a=>{return t=e,void(P.value=t.ID);var t}},[o("span",T,d(e.name),1),o("div",null,[s(k,{class:c(["group-hover:text-blue-500",P.value===e.ID?"text-white-800":"text-blue-500"]),onClick:m((a=>(async e=>{const a=await h({ID:e.ID,status:e.status});J.value="update",0===a.code&&(S.value=a.data.resysDictionary,H.value=!0)})(e)),["stop"])},{default:i((()=>[s(p(B))])),_:2},1032,["class","onClick"]),s(k,{class:c(["ml-2 group-hover:text-red-500",P.value===e.ID?"text-white-800":"text-red-500"]),onClick:a=>(async e=>{v.confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{0===(await w({ID:e.ID})).code&&(D({type:"success",message:"删除成功"}),G())}))})(e)},{default:i((()=>[s(M)])),_:2},1032,["class","onClick"])])],10,O)))),128))])),_:1})]),o("div",K,[s(I,{"sys-dictionary-i-d":P.value},null,8,["sys-dictionary-i-d"])])]),s(le,{modelValue:H.value,"onUpdate:modelValue":x[4]||(x[4]=e=>H.value=e),"before-close":N,title:"create"===J.value?"添加字典":"修改字典"},{footer:i((()=>[o("div",L,[s(_,{size:"small",onClick:N},{default:i((()=>[r("取 消")])),_:1}),s(_,{size:"small",type:"primary",onClick:R},{default:i((()=>[r("确 定")])),_:1})])])),default:i((()=>[s(te,{ref_key:"dialogForm",ref:Q,model:S.value,rules:X.value,"label-width":"110px"},{default:i((()=>[s(ee,{label:"字典名（中）",prop:"name"},{default:i((()=>[s(Z,{modelValue:S.value.name,"onUpdate:modelValue":x[0]||(x[0]=e=>S.value.name=e),placeholder:"请输入字典名（中）",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),s(ee,{label:"字典名（英）",prop:"type"},{default:i((()=>[s(Z,{modelValue:S.value.type,"onUpdate:modelValue":x[1]||(x[1]=e=>S.value.type=e),placeholder:"请输入字典名（英）",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),s(ee,{label:"状态",prop:"status",required:""},{default:i((()=>[s(ae,{modelValue:S.value.status,"onUpdate:modelValue":x[2]||(x[2]=e=>S.value.status=e),"active-text":"开启","inactive-text":"停用"},null,8,["modelValue"])])),_:1}),s(ee,{label:"描述",prop:"desc"},{default:i((()=>[s(Z,{modelValue:S.value.desc,"onUpdate:modelValue":x[3]||(x[3]=e=>S.value.desc=e),placeholder:"请输入描述",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])])}}});export{M as default};
