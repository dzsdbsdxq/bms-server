/*! 
 Build based on gin-vue-admin 
 Time : 1717039643000 */
import{a as e,r as a,M as l,o as t,c as s,b as r,d as o,w as i,F as n,m as u,g as d,i as p,e as m,t as c,D as v,P as f,E as B,j as g,k as C,q as y}from"./087AC4D233B64EB0index.39f1eb31.js";import{E as b}from"./087AC4D233B64EB0pagination.ce43b352.js";/* empty css                              */import"./087AC4D233B64EB0tag.d3c1c3e4.js";import{E as A,a as E}from"./087AC4D233B64EB0select.7f5b5538.js";import"./087AC4D233B64EB0scrollbar.3894915f.js";/* empty css                               */import{E as h,a as D}from"./087AC4D233B64EB0table-column.e9b4a870.js";import"./087AC4D233B64EB0checkbox.a3853383.js";/* empty css                                */import{E as w}from"./087AC4D233B64EB0popover.0b7da3db.js";import{a as j,E as _}from"./087AC4D233B64EB0form-item.a86c41d2.js";/* empty css                               */import{g as k,d as x,a as z}from"./087AC4D233B64EB0sysSnsRecords.dd5b8963.js";import{f as V}from"./087AC4D233B64EB0format.9823c1e6.js";import{E as S}from"./087AC4D233B64EB0index.5d58b83c.js";import"./087AC4D233B64EB0isEqual.e024b3a6.js";import"./087AC4D233B64EB0_Uint8Array.02b83471.js";import"./087AC4D233B64EB0hasIn.9f12b2a1.js";import"./087AC4D233B64EB0index.d8bfc0de.js";import"./087AC4D233B64EB0isUndefined.d281c39a.js";import"./087AC4D233B64EB0strings.2df7e9e1.js";import"./087AC4D233B64EB0debounce.0aab18a9.js";import"./087AC4D233B64EB0_initCloneObject.0c0ca3ea.js";import"./087AC4D233B64EB0dropdown.9d3edc17.js";import"./087AC4D233B64EB0castArray.209ac14b.js";import"./087AC4D233B64EB0_baseClone.a73122b0.js";import"./087AC4D233B64EB0date.225eaf4f.js";import"./087AC4D233B64EB0dictionary.2d6433e1.js";import"./087AC4D233B64EB0sysDictionary.e0472ec6.js";const T={class:"gva-search-box"},I={class:"gva-table-box"},U={class:"gva-btn-list"},R={class:"popover-box"},F={key:1},O={class:"popover-box"},q={key:1},M={class:"gva-pagination"},J=Object.assign({name:"SysSnsRecords"},{__name:"sysSnsRecords",setup(J){const K=e({createdAt:[{validator:(e,a,l)=>{L.value.startCreatedAt&&!L.value.endCreatedAt?l(new Error("请填写结束日期")):!L.value.startCreatedAt&&L.value.endCreatedAt?l(new Error("请填写开始日期")):L.value.startCreatedAt&&L.value.endCreatedAt&&(L.value.startCreatedAt.getTime()===L.value.endCreatedAt.getTime()||L.value.startCreatedAt.getTime()>L.value.endCreatedAt.getTime())?l(new Error("开始日期应当早于结束日期")):l()},trigger:"change"}]}),N=a(),P=a(1),$=a(0),G=a(10),H=a([]),L=a({}),Q=a([{value:"getValidateCode",label:"获取验证CODE"},{value:"sendMessage",label:"发送验证码"},{value:"authorize",label:"登录授权"},{value:"getuserinfo",label:"申石信息"},{value:"userdetail",label:"会员信息"}]),W=()=>{L.value={},ee()},X=()=>{var e;null==(e=N.value)||e.validate((async e=>{e&&(P.value=1,G.value=10,ee())}))},Y=e=>{G.value=e,ee()},Z=e=>{P.value=e,ee()},ee=async()=>{const e=await k({page:P.value,pageSize:G.value,...L.value});0===e.code&&(H.value=e.data.list,$.value=e.data.total,P.value=e.data.page,G.value=e.data.pageSize)};ee();(async()=>{})();const ae=a([]),le=e=>{ae.value=e},te=async()=>{f.confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{const e=[];if(0===ae.value.length)return void B({type:"warning",message:"请选择要删除的数据"});ae.value&&ae.value.map((a=>{e.push(a.ID)}));0===(await x({IDs:e})).code&&(B({type:"success",message:"删除成功"}),H.value.length===e.length&&P.value>1&&P.value--,ee())}))},se=async e=>{0===(await z({ID:e.ID})).code&&(B({type:"success",message:"删除成功"}),1===H.value.length&&P.value>1&&P.value--,ee())},re=e=>{try{return JSON.parse(e)}catch(a){return e}},oe=e=>{const a=1e9,l=e%a;return parseFloat(e/a)+parseFloat(l)/1e9};return(e,a)=>{const B=g,k=j,x=A,z=E,J=C,ee=_,ie=h,ne=S,ue=l("warning"),de=y,pe=w,me=D,ce=b;return t(),s("div",null,[r("div",T,[o(ee,{ref_key:"elSearchFormRef",ref:N,inline:!0,model:L.value,class:"demo-form-inline",rules:K,onKeyup:m(X,["enter"])},{default:i((()=>[o(k,{label:"手机号"},{default:i((()=>[o(B,{modelValue:L.value.mobile,"onUpdate:modelValue":a[0]||(a[0]=e=>L.value.mobile=e),size:"small",placeholder:"搜索条件"},null,8,["modelValue"])])),_:1}),o(k,{label:"请求方法"},{default:i((()=>[o(z,{modelValue:L.value.method,"onUpdate:modelValue":a[1]||(a[1]=e=>L.value.method=e),placeholder:"选择请求方法",size:"small"},{default:i((()=>[(t(!0),s(n,null,u(Q.value,(e=>(t(),d(x,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),o(k,null,{default:i((()=>[o(J,{type:"primary",icon:"search",size:"small",onClick:X},{default:i((()=>[p("查询")])),_:1}),o(J,{icon:"refresh",size:"small",onClick:W},{default:i((()=>[p("重置")])),_:1})])),_:1})])),_:1},8,["model","rules"])]),r("div",I,[r("div",U,[o(J,{icon:"delete",style:{"margin-left":"10px"},size:"small",disabled:!ae.value.length,onClick:te},{default:i((()=>[p("删除")])),_:1},8,["disabled"])]),o(me,{ref:"multipleTable",style:{width:"100%"},"tooltip-effect":"dark",data:H.value,"row-key":"ID",onSelectionChange:le},{default:i((()=>[o(ie,{type:"selection",width:"55"}),o(ie,{align:"left",label:"手机号",prop:"mobile",width:"120"}),o(ie,{align:"left",label:"请求方法",prop:"method",width:"120"}),o(ie,{align:"left",label:"请求路径",prop:"path",width:"200"},{default:i((e=>[o(B,{modelValue:e.row.path,"onUpdate:modelValue":a=>e.row.path=a,style:{width:"240px"},size:"small",disabled:""},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),o(ie,{align:"left",label:"请求状态",prop:"status",width:"120"},{default:i((e=>[o(ne,{type:200==e.row.status?"success":"warning"},{default:i((()=>[p(c(e.row.status),1)])),_:2},1032,["type"])])),_:1}),o(ie,{align:"left",label:"延迟",prop:"latency",width:"120"},{default:i((e=>[o(ne,{type:"primary"},{default:i((()=>[p(c(oe(e.row.latency))+"秒",1)])),_:2},1024)])),_:1}),o(ie,{align:"left",label:"请求Body",prop:"body",width:"120"},{default:i((e=>[r("div",null,[e.row.body?(t(),d(pe,{key:0,placement:"left-start"},{reference:i((()=>[o(de,{style:{cursor:"pointer"}},{default:i((()=>[o(ue)])),_:1})])),default:i((()=>[r("div",R,[r("pre",null,c(re(e.row.body)),1)])])),_:2},1024)):(t(),s("span",F,"无"))])])),_:1}),o(ie,{align:"left",label:"响应Body",prop:"resp",width:"120"},{default:i((e=>[r("div",null,[e.row.resp?(t(),d(pe,{key:0,placement:"left-start"},{reference:i((()=>[o(de,{style:{cursor:"pointer"}},{default:i((()=>[o(ue)])),_:1})])),default:i((()=>[r("div",O,[r("pre",null,c(re(e.row.resp)),1)])])),_:2},1024)):(t(),s("span",q,"无"))])])),_:1}),o(ie,{align:"left",label:"日期",width:"180"},{default:i((e=>[p(c(v(V)(e.row.CreatedAt)),1)])),_:1}),o(ie,{align:"left",label:"操作",fixed:"right","min-width":"80"},{default:i((e=>[o(J,{type:"primary",link:"",icon:"delete",size:"small",onClick:a=>{return l=e.row,void f.confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{se(l)}));var l}},{default:i((()=>[p("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),r("div",M,[o(ce,{layout:"total, sizes, prev, pager, next","current-page":P.value,"page-size":G.value,"page-sizes":[10,30,50,100],total:$.value,small:"",onCurrentChange:Z,onSizeChange:Y},null,8,["current-page","page-size","total"])])])])}}});export{J as default};
