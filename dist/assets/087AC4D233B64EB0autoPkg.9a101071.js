/*! 
 Build based on gin-vue-admin 
 Time : 1717039643000 */
import{r as e,o as a,c as l,d as t,b as o,w as s,i,E as r,P as p,k as m,j as d}from"./087AC4D233B64EB0index.39f1eb31.js";import{E as u}from"./087AC4D233B64EB0dialog.c75a9340.js";import"./087AC4D233B64EB0overlay.3905897c.js";import{a as n,E as c}from"./087AC4D233B64EB0form-item.a86c41d2.js";/* empty css                              */import{E as B,a as f}from"./087AC4D233B64EB0table-column.e9b4a870.js";import"./087AC4D233B64EB0checkbox.a3853383.js";/* empty css                                *//* empty css                               */import"./087AC4D233B64EB0scrollbar.3894915f.js";import"./087AC4D233B64EB0tag.d3c1c3e4.js";/* empty css                               */import{i as g,d as b,j as C}from"./087AC4D233B64EB0autoCode.2e981990.js";import{_ as v}from"./087AC4D233B64EB0warningBar.beb718a3.js";import"./087AC4D233B64EB0isUndefined.d281c39a.js";import"./087AC4D233B64EB0castArray.209ac14b.js";import"./087AC4D233B64EB0_baseClone.a73122b0.js";import"./087AC4D233B64EB0_Uint8Array.02b83471.js";import"./087AC4D233B64EB0_initCloneObject.0c0ca3ea.js";import"./087AC4D233B64EB0index.d8bfc0de.js";import"./087AC4D233B64EB0debounce.0aab18a9.js";import"./087AC4D233B64EB0hasIn.9f12b2a1.js";import"./087AC4D233B64EB0isEqual.e024b3a6.js";const E={class:"gva-table-box"},j={class:"flex items-center gap-3 gva-btn-list"},k={class:"dialog-footer"},A=Object.assign({name:"AutoPkg"},{__name:"autoPkg",setup(A){const D=e({packageName:"",label:"",desc:""}),w=e({packageName:[{required:!0,message:"请输入包名",trigger:"blur"},{validator:(e,a,l)=>{/^\d+$/.test(a[0])?l(new Error("不能够以数字开头")):l()},trigger:"blur"}]}),y=e(!1),_=()=>{y.value=!1,D.value={packageName:"",label:"",desc:""}},h=e(null),V=async()=>{h.value.validate((async e=>{if(e){0===(await g(D.value)).code&&r({type:"success",message:"添加成功",showClose:!0}),N(),_()}}))},x=e([]),N=async()=>{const e=await b();0===e.code&&(x.value=e.data.pkgs)};return N(),(e,g)=>{const b=m,A=B,U=f,P=d,z=n,T=c,q=u;return a(),l("div",null,[t(v,{href:"https://www.bilibili.com/video/BV1kv4y1g7nT?p=3",title:"此功能为开发环境使用，不建议发布到生产，具体使用效果请看视频https://www.bilibili.com/video/BV1kv4y1g7nT?p=3"}),o("div",E,[o("div",j,[t(b,{type:"primary",icon:"plus",size:"small",onClick:g[0]||(g[0]=e=>{y.value=!0})},{default:s((()=>[i("新增")])),_:1})]),t(U,{data:x.value},{default:s((()=>[t(A,{align:"left",label:"id",width:"60",prop:"ID"}),t(A,{align:"left",label:"包名",width:"150",prop:"packageName"}),t(A,{align:"left",label:"展示名",width:"150",prop:"label"}),t(A,{align:"left",label:"描述","min-width":"150",prop:"desc"}),t(A,{align:"left",label:"操作",width:"200"},{default:s((e=>[t(b,{icon:"delete",size:"small",type:"primary",link:"",onClick:a=>(async e=>{p.confirm("此操作仅删除数据库中的pkg存储，后端相应目录结构请自行删除与数据库保持一致！","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{0===(await C(e)).code&&(r({type:"success",message:"删除成功!"}),N())}))})(e.row)},{default:s((()=>[i("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])]),t(q,{modelValue:y.value,"onUpdate:modelValue":g[4]||(g[4]=e=>y.value=e),"before-close":_,title:"创建Package"},{footer:s((()=>[o("div",k,[t(b,{size:"small",onClick:_},{default:s((()=>[i("取 消")])),_:1}),t(b,{size:"small",type:"primary",onClick:V},{default:s((()=>[i("确 定")])),_:1})])])),default:s((()=>[t(v,{title:"新增Pkg用于自动化代码使用"}),t(T,{ref_key:"pkgForm",ref:h,model:D.value,rules:w.value,"label-width":"80px"},{default:s((()=>[t(z,{label:"包名",prop:"packageName"},{default:s((()=>[t(P,{modelValue:D.value.packageName,"onUpdate:modelValue":g[1]||(g[1]=e=>D.value.packageName=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),t(z,{label:"展示名",prop:"label"},{default:s((()=>[t(P,{modelValue:D.value.label,"onUpdate:modelValue":g[2]||(g[2]=e=>D.value.label=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),t(z,{label:"描述",prop:"desc"},{default:s((()=>[t(P,{modelValue:D.value.desc,"onUpdate:modelValue":g[3]||(g[3]=e=>D.value.desc=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])}}});export{A as default};
